# 迷路データ

マイクロマウスの迷路データ

## フォーマット

ファイルはテキスト形式．以下のパーツを用いて迷路情報を表現する．

| パーツ       | 表現形式 | 注記                   |
| ------------ | -------- | ---------------------- |
| 柱           | `+`      | 隣接壁がないときも記載 |
| 既知壁（横） | `---`    |                        |
| 既知壁（縦） | `|`      |                        |
| 未知壁（横） | ` . `    | 必要に応じて使用する   |
| 未知壁（縦） | `.`      |                        |
| スタート区画 | ` S `    | 1区画のみ              |
| ゴール区画   | ` G `    | 複数区画可             |
| その他の区画 | `   `    |                        |

注意:

- 迷路サイズは正方形に限る．長方形の迷路を表現したい場合は長辺に合わせ，左下に寄せる．
- ファイルの終端に改行をつけること

### 例

```txt
+---+---+---+---+---+---+---+---+---+
|   |       |       |       | G   G |
+   +   +   +   +   +   +   +   +   +
|       |       |       |   | G   G |
+   +   +---+   +   +---+   +---+   +
|   |           |       |           |
+   +---+   +---+   +---+---+   +---+
|       |       |           |       |
+---+   +   +   +---+---+   +---+   +
|       |   |       |       |       |
+   +   +---+---+   +   +   +   +   +
|   |   |       |       |       |   |
+   +   +   +   +---+   +---+   +   +
|   |       |       |           |   |
+   +---+   +---+   +---+   +---+   +
|       |   |       |           |   |
+   +   +   +   +---+   +---+   +   +
| S |       |                       |
+---+---+---+---+---+---+---+---+---+
```

## 迷路サイズの推定

ファイルサイズから迷路の1辺の区画数(迷路サイズ)を推定できる．

迷路のサイズを `M` としたとき，
改行コードを 1 Byte と仮定すると，
ファイルサイズ `F` との関係は次式．

    F = (4*M + 1 + 1) * (2*M + 1)

2次方程式の解の公式を用いると，次式のように表せる．

    M = (sqrt(2*F) - 2) / 4

もしも改行コードが 2 Bytes だとしても，
切り捨てを考慮すると上式で計算可能．

## 参考

- [micromouseonline/mazefiles](https://github.com/micromouseonline/mazefiles)
